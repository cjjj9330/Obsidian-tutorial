它可以用来制作和 Notion 一样的数据库，实时拖拽列宽；筛选、查询数据库中的内容；将表头改为文本/数字/下拉框/复选框/标签/公式/relation/rollup；在表格视图中修改数据时自动映射到笔记属性本身等等，几乎和 Notion 数据库一模一样

## 使用方法

可以按 Ctrl+P 调出 [[Core plugins#4. Command palette|Command Platte]]，然后输入"DB"，在命令面板中选择对应指令。也可以在侧边 [[Appearance|Ribbon]] 中，点击 DB Folder 的快捷键创建数据库

![[Pasted image 20250617194826.png]]

点击后，会弹出 DB Folder 的交互面板

![[Pasted image 20250617194946.png]]

第一个输入框填写数据库名称，第二个下拉框用来选择源数据的位置，如果选择“Current folder”，要确保源笔记与所选数据库位置（就是下方第三个输入框）一样。选择好数据源和数据库位置后，点击"Submit"就可以创建数据库

这样创建的数据库缺少模板，呈现时会默认只呈现" File"这一列，需要去设置中指定要呈现的列。数据库视图中，点击右上角齿轮图标

![[Pasted image 20250617205751.png]]

拉到下面，点进 Use All Fields 旁边的按钮就可以扫描并呈现所有笔记中的唯一属性作为单独列

![[Pasted image 20250617205926.png]]

你也可以点击上方 Select file as columns templates，使用某一个笔记的属性作为数据库表头模板

"示例/DB Folder "文件夹下共有四种数据库，我已经弄了两个作为示例，你可以自己操作剩下两个，看能不能按上面的方法自己做出数据库
### 从 CSV 文件导入数据库

DB Folder 也有从 CSV 文件导入直接生成数据库的功能，操作如下

首先，在设置中，找到 DB Folder 插件，然后在它的设置项中找到“Mandatory Header Key”这项，把它改为你的 CSV 文件第一列表头一样的内容，这一点非常重要，否则后面会出错

然后新建一个空文件夹，点击 Ribbon 上 DB Folder 的快捷键，再次打开 DB Folder 面板。命名、选 Current Folder、选择你刚才创建的空文件夹作为数据库存放位置，最后点击提交创建一个空数据库

数据库创建好后，点击右上角导入 CSV 按钮，

![[Pasted image 20250617210704.png]]

在文件管理器中选择你的 CSV 文件，正常情况下 DB Folder 会根据你文件的内容自动生成具有对应属性的笔记放在文件夹下，并生成数据库

```ad-note
在导出为CSV文件后，不要直接使用excel或者WPS打开，否则会出现乱码。应该在Excel中新建一个空白工作表，在数据标签页下，点击获取数据 -> 从文本/CSV导入，最后选择加载就可以正常显示了
```

这个插件能做到这样已经非常不错，但是用起来很卡，也正是由于太卡，一些高级功能我没尝试。另外，功能上 DB Folder 没有 Notion 数据库完善，总得来说暂时很难投入到生产环境

经常使用数据库的话前期可以用这个过渡一下，后期个人推荐使用 Dataview 创建数据库，因为 Dataview 创建数据库更加自由，也不卡

## 设置项解释

![[Pasted image 20250607110758.png]]

### Configuration about folder structure (关于文件夹结构的配置)

这部分设置主要控制数据库表格的整体布局和视觉样式。

- Cell size (单元格大小)
    
    这个下拉菜单用来调整表格中单元格的宽度和高度。
    
    - **normal (正常):** 默认的单元格大小，在可读性和信息密度之间取得了平衡。
    - **compact (紧凑):** 单元格会变得更窄更矮，允许您在同一屏幕内看到更多的行和列，适合数据密集的表格。
    - **wide (宽):** 单元格会变得更宽，适合内容较长的字段，以确保文本能完整显示而不需要换行。
- Sticky first column (固定第一列)
    
    这是一个开关选项。当您启用它后，数据库表格的第一列会被“冻结”或“固定”在原位。这样，当您水平向右滚动以查看更多列时，第一列（通常是笔记的名称）会始终保持可见。这对于拥有很多列的宽表格非常有用，可以帮助您随时确定当前行对应的是哪个条目。
    

---

### Configuration about columns (关于列的配置)

这部分设置决定了当您在数据库视图中操作列时，插件如何处理笔记中的元数据。

- **Remove fields (移除字段)** 这是一个非常重要的开关，它关系到您的数据安全。
    - **关闭状态 (默认):** 当您在 `DB Folder` 的数据库视图中删除某一列时，它仅仅是**隐藏**了这一列，并不会从笔记文件本身的元数据 (YAML frontmatter) 中删除对应的字段。这是一种非破坏性操作。
    - **开启状态:** 当您启用此选项后，在数据库视图中删除某一列，插件会**同时从该数据库关联的所有笔记的元数据中，永久删除那个字段和它的值**。**请谨慎使用此功能**，因为这会直接修改您的源文件内容。

---

### Metadata toggle group (元数据切换组)

这部分包含了一系列开关，用于快速启用或禁用 `DB Folder` 自动生成的、基于文件本身信息的内置元数据列。启用后，您就可以在数据库视图中看到这些特殊的列。

- Created date (创建日期)
    
    启用后，会在数据库中显示一个名为 "Created date" 的列，内容是每个笔记文件的实际创建日期和时间。
    
- Modified date (修改日期)
    
    启用后，会显示一个名为 "Modified date" 的列，内容是每个笔记文件最后一次被修改的日期和时间。这个字段对于追踪笔记的更新历史非常有用。
    
- File Tasks (文件任务)
    
    启用后，会显示一个名为 "File Tasks" 的列。该列通常会以 [ ] 或类似复选框的形式，显示笔记中包含的任务（例如 - [ ] 一个任务）。您可以直接在数据库视图中勾选或取消勾选这些任务。
    
- File Inlinks (文件入链)
    
    启用后，会显示一个名为 "File Inlinks" 的列，内容是链接到当前笔记的其他笔记的数量或列表。这可以帮助您快速了解一个笔记被引用的情况。
    
- - **File Outlinks (文件出链)** 启用后，会显示一个名为 "File Outlinks" 的列，内容是当前笔记中链接到其他笔记的数量或列表。
- File Tags (文件标签)
    
    启用后，会显示一个名为 "File Tags" 的列，它会自动抓取并展示笔记中包含的所有标签 (#tag)。
    
![[Pasted image 20250607111301.png]]
### Inline fields options (行内字段选项)

这部分设置与 Obsidian 的行内字段（Inline Fields）功能有关。行内字段允许您在笔记的正文任意位置，使用 `Key:: Value` 的语法来添加元数据，而不是必须将它们写在文件顶部的 YAML Frontmatter 中。

- Enable inline fields as default (默认启用行内字段)
    
    这是一个开关选项，决定了新建列时数据的存储方式。
    
    - **关闭状态 (默认):** 当您在数据库视图中添加一个新列并在其中为某个笔记添加数据时，这个数据（例如 `author:: John Doe`）会被添加到该笔记顶部的 YAML Frontmatter 中。
    - **开启状态:** 启用后，当您添加新列并填入数据时，这个键值对会作为行内字段直接写入到笔记的正文内容中，而不是 YAML Frontmatter。这为您提供了更灵活的数据组织方式。
- Select position of new inline fields (选择新行内字段的位置)
    
    此设置仅在上面的“默认启用行内字段”开启时生效。它决定了新创建的行内字段被添加到笔记正文的哪个位置。
    
    - **Last field (最后一个字段之后):** 新的行内字段会被添加到笔记中已存在的最后一个行内字段的后面。
    - **Top (顶部):** 添加在笔记内容的 একদম最开始。
    - **Bottom (底部):** 添加在笔记内容的 একদম末尾。

### Rows related configuration (行相关配置)

这部分设置主要控制数据库中“行”（即每个笔记条目）的显示方式和相关功能。

- Folder to read the templates (读取模板的文件夹)
    
    这是一个非常实用的功能。您可以指定一个文件夹，该文件夹内存放着您的模板笔记。设置后，在 DB Folder 视图中点击“新建”按钮时，您可以选择其中一个模板来创建新笔记。新笔记会自动应用模板中预设的元数据字段和内容结构。
    
- Pagination size (分页大小)
    
    这个滑块用来控制在数据库的每一页上显示多少行。如果您的数据库包含大量笔记，设置一个合理的分页大小（例如每页显示 50 行）可以显著提升加载速度和浏览性能。您可以在数据库的页脚切换页面。
    
- Select the size of the font (选择字体大小)
    
    这个滑块允许您直接调整数据库视图中所有文本的字体大小（单位是像素）。如果觉得默认字体太大或太小，可以通过拖动此滑块来进行微调。
    
- Row shadow (行阴影/斑马纹)
    
    这是一个视觉开关。启用后，表格会显示为“斑马纹”样式，即奇数行和偶数行会有不同的背景色。这可以增强行的区分度，让您在横向阅读数据时视线更不容易错乱。
    
- Show footer (显示页脚)
    
    启用此开关后，数据库视图的底部会显示一个页脚。这个页脚通常会显示一些有用的信息，比如数据库中的总行数（Rows count），并且在启用了分页的情况下，会提供翻页的导航控件。
    

### Configuration about editing engine (关于编辑引擎的配置)

这部分设置决定了数据库中日期和时间相关字段的显示格式。它使用了 [Luxon](https://www.google.com/search?q=https://moment.github.io/luxon/%23/formatting&authuser=1) 标准来定义格式代码。

- Date format (日期格式)
    
    定义了只包含日期的字段（例如 yyyy-MM-dd）在数据库视图中的显示样式。
    
    - `yyyy`: 四位数的年份 (e.g., 2025)
    - `MM`: 两位数的月份 (e.g., 06)
    - `dd`: 两位数的日期 (e.g., 06)
    - 默认的 `yyyy-MM-dd` 会显示为 `2025-06-06`。您可以修改为 `dd/MM/yyyy` 以显示为 `06/06/2025`。
- Datetime format (日期时间格式)
    
    定义了同时包含日期和时间的字段的显示样式。默认的 yyyy-MM-dd HH:mm:ss 表示：
    
    - `HH`: 24小时制的两位数小时 (e.g., 20)
    - `mm`: 两位数分钟 (e.g., 12)
    - `ss`: 两位数秒钟 (e.g., 15)
    - 显示效果为 `2025-06-06 20:12:15`。
- Metadata datetime format (元数据日期时间格式)
    
    这个通常用于像“文件创建时间”、“文件修改时间”这类由插件自动生成的元数据列的显示格式。它的配置方式和上面的“日期时间格式”完全一样。
    
![[Pasted image 20250607111426.png]]

### Automations related to the table (与表格相关的自动化)

这部分包含了一些高级的自动化功能。

- **Enable JavaScript formulas (启用 JavaScript 公式)** 这是一个非常强大的高级功能。启用后，您可以在数据库中创建“公式列”，其功能类似于 Excel 或 Notion 中的公式。
    - **用途：** 您可以利用笔记中已有的元数据进行计算或文本处理。例如，您可以创建一个公式列来计算一个项目的剩余天数（`截止日期 - 今天`），或者将两个字段（如 `姓` 和 `名`）合并成一个完整的姓名。
    - **语法：** 公式需要写在 `={{ }}` 中，并使用 JavaScript 语法。例如 `={{return field("price") * field("quantity")}}`。
    - **注意：** 这需要您具备一定的 JavaScript 基础知识。

---

### Embedded media adjustments (嵌入式媒体调整)

这部分设置控制着在数据库视图中如何处理和显示媒体文件（如图片、视频）和链接。

- Default media link state (on/off) (默认媒体链接状态)
    
    这个开关决定了当您添加一个指向媒体文件的链接时，它默认是作为普通链接还是嵌入式媒体。
    
    - **开启状态 (如图):** 当您粘贴一个媒体链接时，它会自动被 `![[]]` 包裹，从而在单元格内直接**显示**该图片或媒体内容，而不是只显示一个链接地址。
    - **关闭状态:** 媒体链接将保持为标准的 `[[]]` 链接形式，您需要点击才能查看。
- Default link alias state (on/off) (默认链接别名状态)
    
    这个开关控制着URL链接的显示方式。
    
    - **开启状态 (如图):** 当您在一个单元格中添加一个URL（例如 `https://obsidian.md`）时，插件会自动使用该列的名称作为链接的别名，生成这样的Markdown格式：`[列名称](https://obsidian.md)`。这使得链接更具可读性。
    - **关闭状态:** 链接将直接显示为原始URL。
- Media dimensions (媒体尺寸)
    
    这里您可以设置嵌入媒体（主要是图片）在数据库单元格中显示的默认尺寸。
    
    - **第一个框:** 默认高度 (height)，单位为像素。
    - **第二个框:** 默认宽度 (width)，单位为像素。
    - 例如，设置为 `100` x `100`，所有嵌入的图片在表格中都会被统一调整为这个大小，让表格看起来更整洁。

---

### Configuration about CSV I/O (关于 CSV 导入/导出的配置)

这部分设置与从 CSV 文件导入数据或将数据导出为 CSV 文件相关。

- **Mandatory header key (必需的表头)** 这个设置在您从 CSV 文件导入数据到 `DB Folder` 时使用。它定义了一个**必须存在**于 CSV 文件中的列标题（header）。如果导入的 CSV 文件缺少这个指定的表头，插件可能就不会处理该文件。
    - 这里的 `File` 可能是默认值，您可以根据需要修改。例如，如果您规定所有导入的书籍信息CSV都必须包含 `ISBN` 这一列，就可以在这里填入 `ISBN`。

---

### Helpers/Commands related to the table (与表格相关的助手/命令)

这部分是一些改善使用体验的辅助功能。

- **Show Search Bar By Default (默认显示搜索栏)**
    
    - **关闭状态 (如图):** 当您打开一个数据库视图时，顶部的搜索栏默认是隐藏的，您需要点击搜索图标才会显示它。
    - **开启状态:** 每当您打开数据库视图时，搜索栏都会自动展开并显示，方便您直接开始筛选和搜索。
- Auto update (自动更新)
    
    这是一个非常重要的性能与实时性开关。
    
    - **开启状态 (如图):** `DB Folder` 会在后台监听文件的变化。当有其他文件的更改可能影响到当前数据库视图时（例如，您给一个笔记添加了数据库正在追踪的标签），数据库视图会**自动刷新**以显示最新的结果。
    - **关闭状态:** 数据库只在您手动刷新或重新打开时才会更新。如果您的库非常大，关闭此选项可能会提升 Obsidian 的整体性能。
    - **警告:** 正如设置项下方的提示所说，修改这个选项后，需要**重启 Obsidian 才能生效**。