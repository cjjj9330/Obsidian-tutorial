Obsidian Linter 插件是一款非常实用的社区插件，旨在帮助用户规范和清理 Obsidian 笔记的格式。把它想象成一个在你写作时，默默帮你检查和修正文档格式的小助手。

这款插件的主要功能和作用：

**Obsidian Linter 插件的核心功能：**

- **自动化格式规范：** 这是 Linter 最核心的功能。它可以根据你预设的规则，自动检查并修正笔记中的格式问题。
- **多样化的规则选项：** Linter 提供了非常丰富的格式化规则，涵盖了 Markdown 语法的方方面面，例如：
    - **YAML Frontmatter：** 自动添加、排序、清理 YAML 区域的键值对，比如自动添加创建日期、修改日期，或者移除空的键。
    - **标题：** 规范标题的大小写、层级、前后空格等。
    - **空格和换行：** 处理多余的空格、空行，或者在特定元素（如段落、列表）前后添加必要的空行。
    - **列表：** 统一列表标记（例如，全部使用 `-` 或 `*`），规范列表项的缩进。
    - **引用：** 修正引用块的格式。
    - **链接和图片：** 规范链接和图片的语法，例如自动转换内联链接为引用链接等。
    - **脚注：** 自动排序和规范脚注的格式。
    - **标签：** 统一标签的格式。
    - **其他 Markdown 元素：** 包括代码块、分隔线、数学公式等的格式规范。
- **自定义配置：** 你可以根据自己的写作习惯和偏好，灵活地启用或禁用特定的规则，并调整规则的参数。这意味着 Linter 可以很好地适应不同用户的需求。
- **多种运行方式：**
    - **手动运行：** 你可以通过命令面板或快捷键手动触发 Linter 对当前笔记或整个库进行格式化。
    - **保存时自动运行：** 这是非常受欢迎的功能，当你保存笔记时，Linter 会自动应用规则进行格式化，确保你的笔记始终保持规范。
    - **按文件夹运行：** 可以针对特定的文件夹设置不同的 Linter 规则。
- **提升笔记一致性：** 对于拥有大量笔记的用户，或者有协作需求的用户来说，Linter 可以确保所有笔记的风格和格式保持高度一致，便于阅读和管理。
- **减少手动调整的麻烦：** 无需再花费大量时间手动检查和修正格式细节，Linter 可以帮你自动化完成这些繁琐的工作，让你更专注于内容创作。

**如何使用 Obsidian Linter 插件？**

1. **安装插件：** 在 Obsidian 的“设置” -> “第三方插件”中，关闭“安全模式”，然后浏览社区插件，搜索 "Linter" 并安装。
2. **启用插件：** 安装完成后，在已安装插件列表中启用 Linter。
3. **配置规则：** 打开 Linter 的设置选项，你会看到一个长长的规则列表。花一些时间浏览这些规则，根据你的需求启用、禁用或调整它们。一开始可能觉得选项很多，可以先从一些常用的规则开始尝试，例如 YAML 时间戳、空格处理等。
4. **运行 Linter：** 你可以在命令面板 (通常是 `Ctrl/Cmd + P`) 中输入 "Linter" 找到相关命令，例如 "Lint current file" (格式化当前文件) 或 "Lint all files in vault" (格式化整个库的文件)。你也可以在 Linter 的设置中开启“Lint on save”（保存时自动格式化）。

**为什么要使用 Linter？**

- **保持笔记整洁有序：** 规范的格式让笔记看起来更专业，阅读体验更好。
- **提高写作效率：** 将格式化的工作交给插件，可以节省你的时间和精力。
- **确保一致性：** 特别是对于有强迫症或者追求完美的用户，Linter 能带来极大的满足感。
- **便于协作和分享：** 如果你与他人共享笔记，统一的格式能减少沟通成本。

总而言之，Obsidian Linter 插件是一个强大且灵活的工具，对于任何希望提升 Obsidian 使用体验、保持笔记库整洁规范的用户来说，都非常值得尝试和使用。它可能需要一些初始配置时间，但一旦设置好，就能在后续的笔记过程中持续受益

## 设置介绍

![[Pasted image 20250605001044.png]]

**General (常规设置)**

- **Lint on save (保存时执行 Lint)**
    
    - **解释：** 这个开关选项决定了当你保存当前笔记时（通常通过 `Ctrl+S` 或 `Cmd+S`，或者在使用 Vim 模式时的 `:w` 命令），Linter 是否会自动对该笔记执行格式化操作。
    - **状态：** 在图片中，这个选项是 **开启** 的（开关是亮的）。这意味着每次保存文件时，Linter 都会自动运行。
- **Lint on Focused File Change (当聚焦文件改变时执行 Lint)**
    
    - **解释：** 这个开关选项决定了当你关闭一个文件或者切换到另一个新文件时，Linter 是否会对刚刚失去焦点的那个文件（即前一个文件）执行格式化操作。
    - **状态：** 在图片中，这个选项是 **开启** 的。这意味着当你从一个文件切换到另一个文件时，之前编辑的文件会被自动格式化。
- **Override locale (覆盖区域设置)**
    
    - **解释：** 这个选项允许你为 Linter 的某些规则（例如涉及到大小写转换、日期格式化等可能与语言相关的规则）指定一个不同于系统默认的区域设置。
    - **当前值：** `zh-cn` (简体中文)。这意味着 Linter 在处理与区域相关的规则时，会优先使用简体中文的规则。
- **YAML aliases section style (YAML 别名区域样式)**
    
    - **解释：** 这个下拉菜单用于定义 YAML Frontmatter 中 `aliases`（别名）部分的格式样式。
    - **当前值：** `single-line` (单行)。这意味着如果你的别名有多个，它们会被格式化到同一行内，例如 `aliases: [别名1, 别名2, 别名3]`。其他可能的选项（虽然图片中未展开，但通常会有）可能包括 `multi-line` (多行，每个别名占一行) 或者保持原样等。
- **YAML tags section style (YAML 标签区域样式)**
    
    - **解释：** 类似于别名区域样式，这个下拉菜单用于定义 YAML Frontmatter 中 `tags`（标签）部分的格式样式。
    - **当前值：** `single-line` (单行)。这意味着如果你的标签有多个，它们会被格式化到同一行内，例如 `tags: [标签1, 标签2, 标签3]`。
- **Default Escape Character (默认转义字符)**
    
    - **解释：** 这个选项用于指定在 YAML 值中，当没有使用单引号或双引号包裹字符串时，用于转义特殊字符的默认字符。
    - **当前值：** `"` (双引号)。
- **Remove Unnecessary Escape Characters when in Multi-Line Array Format (在多行数组成员格式中移除不必要的转义字符)**
    
    - **解释：** 这个开关选项决定了当 YAML 中的数组采用多行格式时，是否移除那些不必要的转义字符。例如，在多行格式下，某些字符可能不需要像在单行数组中那样进行转义。
    - **状态：** 在图片中，这个选项是 **关闭** 的（开关是暗的）。
- **Number of Dollar Signs to Indicate Math Block (用于指示数学块的美元符号数量)**
    
    - **解释：** 这个设置项用于定义 Linter 如何识别数学公式块（而不是内联数学公式）。它指定了需要连续出现多少个美元符号 `$` 才被视为一个数学公式块的开始和结束标记。
    - **当前值：** `2`。这意味着 `$$...$$` 会被识别为数学公式块。如果设置为 `3`，则 `$$$...$$$` 会被识别。

**Folders to ignore (要忽略的文件夹)**

- **解释：** 这个部分允许你指定在执行全局 Lint 操作（例如 "Lint all files in the vault"）或在启用 "Lint on save" 时，哪些文件夹下的笔记不应被 Linter 处理。这对于排除模板文件夹、附件文件夹或者不想被自动格式化的特定项目文件夹非常有用。
- **操作：**
    - 右侧的 `+` 号图标：点击可以添加一个新的文件夹路径到忽略列表。
    - 输入框 (`Folder name`)：用于输入要忽略的文件夹的名称或路径。
    - 垃圾桶图标 (如果已有条目)：用于删除已添加的忽略文件夹。

**Files to ignore (要忽略的文件)**

- **解释：** 类似于忽略文件夹，这个部分允许你通过正则表达式来指定哪些文件不应被 Linter 处理。这提供了更精细的控制，可以基于文件名模式来排除文件。
- **操作：**
    - 下方的警告信息：“Use this with caution if you do not know regex. Also, please make sure that if you use lookbehinds in your regex on iOS mobile that you are on a version that supports them.” (如果你不了解正则表达式，请谨慎使用。另外，如果你在 iOS 移动设备上使用正则表达式中的后行断言 (lookbehinds)，请确保你的设备版本支持它们。) 这提醒用户正则表达式的复杂性以及特定环境下的兼容性问题。
    - `label` 输入框：可以为你的正则表达式规则添加一个描述性标签，方便记忆。
    - `regex for file to ignore` 输入框：用于输入实际的正则表达式，匹配你想要忽略的文件名。
    - `i` 按钮 (通常代表 "case-insensitive" - 不区分大小写)：可能是一个切换按钮，用于决定正则表达式是否区分大小写。
    - 右侧的 `+` 号图标：点击可以添加一个新的文件忽略规则。
    - 垃圾桶图标 (如果已有条目)：用于删除已添加的文件忽略规则。

![[Pasted image 20250605230952.png]]

- **Add Blank Line After YAML (在 YAML 后添加空行)**
    
    - **解释：** 此选项会在 YAML Frontmatter 区域结束后自动添加一个空行。前提条件是 YAML 区域不是文件的末尾，并且其后还没有至少一个空行。这有助于将元数据与正文内容清晰地分开。
    - **状态：** 在图片中，这个选项是 **开启** 的。
- **Dedupe YAML Array Values (YAML 数组成员去重)**
    
    - **解释：** 此选项会移除 YAML 数组中的重复值。根据描述，这个去重操作是区分大小写的。例如，如果一个数组中有 `[tag1, Tag1, tag2, tag1]`，它可能会变成 `[tag1, Tag1, tag2]` (如果 "tag1" 和 "Tag1" 被视为不同的话，或者如果它只移除完全相同的重复项，则变为 `[Tag1, tag2, tag1]`)。具体行为取决于其区分大小写的实现。
    - **状态：** 在图片中，这个选项是 **关闭** 的。
- **Escape YAML Special Characters (转义 YAML 特殊字符)**
    
    - **解释：** 此选项会自动转义 YAML 值中的特定特殊字符，以避免它们被 YAML 解析器错误地解读。描述中提到了会转义后面跟着空格的冒号 (`:`)、单引号 (`'`) 和双引号 (`"`)。这意味着如果你的 YAML 字段值中直接包含了这些字符（而非作为 YAML 语法的一部分），Linter 会尝试通过添加转义符或用引号包裹的方式来确保它们被视为普通文本。
    - **状态：** 在图片中，这个选项是 **开启** 的。
- **Force YAML Escape (强制 YAML 转义)**
    
    - **解释：** 这个选项会强制对指定的 YAML 键 (keys) 对应的值 (values) 进行转义。即使这些值可能不包含第一眼看上去需要转义的字符，这个选项也会确保它们被适当地引号包裹或转义，以保证其作为纯字符串处理。这对于某些特定键，如果其值可能包含特殊字符或易产生歧义的模式，会特别有用。用户需要自行指定哪些键需要强制转义。
    - **状态：** 在图片中，这个选项是 **关闭** 的。
- **Format Tags in YAML (格式化 YAML 中的标签)**
    
    - **解释：** 此选项会从 YAML frontmatter 的标签 (tags) 中移除井号 (`#`)。在 YAML 中，标签通常不需要也不应该带有井号，井号在笔记正文中才用于标识标签。例如，如果 YAML 中有 `tags: [#tag1, #tag2]`，启用此选项后会将其格式化为 `tags: [tag1, tag2]`。
    - **状态：** 在图片中，这个选项是 **开启** 的。
- **Format YAML Array (格式化 YAML 数组)**
    
    - **解释：** 这个选项用于统一常规 YAML 数组的格式，可以设置为多行 (multi-line) 或单行 (single-line)。特别指出，`tags` 和 `aliases` 这两个 Obsidian 特定的 YAML 键允许有它们自己的特定格式（这通常通过前面我们讨论过的 `YAML tags section style` 和 `YAML aliases section style` 设置）。描述中还提到一个重要的规则：“Note: that single string to single-line goes from a single string entry to a single-line array if more than 1 entry is present. The same is true for single string to multi-line except it becomes a multi-line array.” 这意味着：
        - 如果一个键只有一个字符串值（例如 `myKey: value1`），并且你设置了将其格式化为单行数组，Linter 可能不会改变它，除非有多个条目。但如果原文是 `myKey: - value1` 且设置单行，它会变成 `myKey: [value1]`。
        - 如果原本是 `myKey: value1` 且有多个值，如通过其他方式添加后变成 `myKey: value1, value2`，且设置了单行数组，它会被规范为 `myKey: [value1, value2]`。
        - 如果设置了多行数组，并且有多个值，它会被格式化为每个值占一行的形式。
    - **状态：** 在图片中，这个选项是 **开启** 的。
- **Insert YAML attributes (插入 YAML 属性)**
    
    - **解释：** 此选项允许你定义一些 YAML 属性（键值对），Linter 会自动将它们插入到笔记的 YAML frontmatter 中。每个属性需要单独定义在一行。这对于确保所有笔记都包含某些基本元数据（如创建日期、模板类型等）非常有用。
    - **状态：** 在图片中，这个选项是 **关闭** 的。
- **Move Tags to YAML (移动标签到 YAML)**
    
    - **解释：** 这个选项会将文档正文中的所有标签（通常以 `#` 开头）移动到 YAML frontmatter 的 `tags` 字段中。这有助于集中管理标签，并保持正文的整洁。
    - **状态：** 在图片中，这个选项是 **关闭** 的。
- **Remove YAML Keys (移除 YAML 键)**
    
    - **解释：** 这个选项允许你指定一个或多个 YAML 键，Linter 会在执行时从 frontmatter 中移除这些键及其对应的值。这可以用于清理不再需要或者不希望保留的元数据。
    - **状态：** 在图片中，这个选项是 **开启** 的。（虽然是开启的，但用户还需要在具体设置中指定要移除哪些键才会有实际效果）。

这些设置项提供了对 YAML frontmatter 区域非常细致的格式化控制，帮助用户保持元数据的一致性和规范性。