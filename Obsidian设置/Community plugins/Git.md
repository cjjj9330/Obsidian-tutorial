Obsidian几乎完全免费，唯独同步与将笔记发布成网页需要付费，这是因为这两项功能都需要维护服务器与数据库，收费合情合理。那有没有办法实现免费同步呢？有，Git以及Remotely Save这类插件专门用与实现同步服务

个人更推荐使用Git，因为Remotely Save并不完全免费，而且对国内用户并不友好 #链接回来 
## Git插件介绍

首先，我们来了解下Git是什么以及Git插件的功能：

> [!faq]+ Git是什么 & Git插件的功能
> 
> Git 是一个分布式版本控制系统。简单来说，它被设计用来追踪文件（尤其是文本文件，如代码或 Markdown 笔记）的每一次修改历史。你可以：
> 
> * **提交 (Commit)**：将当前版本的文件状态保存为一个“快照”。
> * **查看历史 (History/Log)**：回顾之前的所有提交记录，了解文件是如何一步步变化的。
> * **版本回退 (Revert/Checkout)**：如果需要，可以恢复到之前的某个版本。
> * **分支 (Branch)**：创建不同的开发线路，进行实验性修改而不影响主线。
> * **合并 (Merge)**：将不同分支的修改合并到一起。
> * **远程仓库 (Remote Repository)**：可以将你的本地 Git 仓库与一个在线的代码托管平台（如 GitHub, GitLab, Gitea 等）连接，将你的提交推送到远程服务器进行备份或协作。
> 
> **Obsidian Git 插件的功能：**
> 
> "Obsidian Git" 插件将 Git 的这些核心功能直接集成到了 Obsidian 的用户界面中，让你无需离开 Obsidian 或频繁使用命令行就能管理你的笔记库版本。
> 
> **主要功能和特点：**
> 
> 1.  **自动备份和版本控制**：
>     * **定时提交 (Automatic Commit)**：插件可以设置一个时间间隔（例如每10分钟），自动将笔记库中所有已更改的文件执行 `git add .` 和 `git commit` 操作。这意味着你的笔记修改历史会被定期保存下来。
>     * **自动推送 (Automatic Push)**：在自动提交后，还可以选择自动将这些提交推送到你设置的远程 Git 仓库（如 GitHub 上的私有仓库）。
>     * **自动拉取 (Automatic Pull)**：可以在 Obsidian 启动时自动从远程仓库拉取最新的更改，确保你的本地库与远程保持同步，这对于多设备使用非常重要。
> 
> 2.  **手动 Git 操作**：
>     * **提交 (Commit)**：可以手动提交所有更改，并自定义提交信息 (commit message)。
>     * **推送 (Push)**：手动将本地的提交推送到远程仓库。
>     * **拉取 (Pull)**：手动从远程仓库拉取最新的更改到本地。
>     * **暂存 (Stage)**：提供类似 `git add <file>` 的功能，可以选择性地将某些更改的文件加入到下一次提交中。
>     * **撤销更改 (Discard Changes)**：可以丢弃某个文件自上次提交以来的所有未保存的修改。
> 
> 3.  **可视化界面**：
>     * **源码控制视图 (Source Control View)**：插件通常会提供一个专门的侧边栏面板，显示当前已更改、已暂存、未追踪的文件列表，类似于 VS Code 等代码编辑器中的 Git 面板。你可以在这个视图中方便地进行暂存、提交、查看差异等操作。
>     * **历史视图 (History View)**：可以查看整个库或单个文件的提交历史记录，点击某个提交可以看到该次提交具体修改了哪些文件以及文件的差异。
>     * **差异视图 (Diff View)**：可以清晰地看到文件在不同版本之间的具体内容差异（增加了哪些行，删除了哪些行，修改了哪些行）。
>     * **行作者信息 (Line Authoring / Git Blame)**：可以查看文件中每一行最后是由哪个提交修改的，以及修改者和时间等信息。
> 
> 4.  **冲突处理 (Conflict Resolution)**：
>     * 当从远程拉取更改，并且本地也有未同步的修改时，如果两者修改了同一文件的同一部分，就可能产生合并冲突。插件通常会标记出这些冲突文件，并可能提供一些基础的界面辅助你解决这些冲突（尽管有时复杂的冲突可能仍需要借助外部 Git 工具）。
> 
> 5.  **支持 Git 子模块 (Git Submodules)**：
>     * 如果你在你的笔记库中使用了 Git 子模块来管理某些部分的独立版本，插件通常也支持对子模块进行提交和同步。
> 
> 6.  **与 Obsidian 命令面板和快捷键集成**：
>     * 插件提供的所有主要 Git 操作（如提交、推送、拉取等）都可以通过 Obsidian 的命令面板调用，并且你可以为它们设置自定义的快捷键。
> 
> 7.  **`.gitignore` 文件编辑**：
>     * 允许你直接在 Obsidian 内部编辑 `.gitignore` 文件，用来指定哪些文件或文件夹不应被 Git追踪和提交（例如，Obsidian 的缓存文件、一些临时文件等）。
> 
> 
> 总而言之，"Obsidian Git" 插件对于那些熟悉 Git 或者愿意学习 Git 的用户来说，是一个非常强大和灵活的笔记备份、同步及版本管理解决方案。它为你提供了对笔记数据历史的完全控制

作为一个版本控制工具，它的主要功能是提供类似Obsidian自带的[[Core plugins#6. File recovery|File recovery]]那种文件快照功能。Git能将整个Obsidian Vault以快照形式保存，而且理论上可永久保存。像Notion这种商业软件，一般快照保存功能只能保存7天，更长时间要收费，但Git是免费的

这也是Git相对于其他同步插件的一大优势。如果使用Remotely Save提供的Google Drive，One Drive或者iCloud这种云服务进行同步，它们只会单纯同步本地文件与远程文件，不会保存仓库快照

当然，使用其他云服务的话，配合[[Core plugins#6. File recovery|File recovery]]插件的快照功能也能实现类似效果，但使用Git插件理论上可以完全舍弃File recovery 插件，精简一个插件也不错，还能节省空间

## 如何配置Git插件

1.  如果你没有安装Git，需要先去[Git官网](https://git-scm.com/downloads)下载
	
	![](https://img.aiexplorernote.com/%E4%BD%BF%E7%94%A8Git%E6%8F%92%E4%BB%B6%E8%AE%A9Obsidian%E5%AE%9E%E7%8E%B0%E5%90%8C%E6%AD%A5/download-git.jpg)
	
2. 在Obsidian中安装Git插件
	
	- 到Obsidian设置页的第三方社区插件“Community plugins”部分
	- 关闭安全模式，点击浏览，在社区插件中搜索Git插件安装并启用
	
3. 将Obsidian库文件夹初始化为Git仓库，有两种方式实现
	
	最简单的方法是通过Git插件在Obsidian中的命令实现，这样可以不用接触命令行。按Ctrl + P打开[[Core plugins#4. Command palette|Command palette]]，输入“Git:init"，选择第一个选项按回车就行
	
	![](https://img.aiexplorernote.com/%E4%BD%BF%E7%94%A8Git%E6%8F%92%E4%BB%B6%E8%AE%A9Obsidian%E5%AE%9E%E7%8E%B0%E5%90%8C%E6%AD%A5/initialize-obsdian-vault-as-git-repository.jpg)
	
	你也可以通过终端导航到Obsidian库文件夹，然后在终端执行下面这个命令：
	
	```
	git init
	```
	
	没有报错就行
	
4. 为实现同步，我们需要有一个远程Git仓库，这里选择GitHub作为仓库托管平台
	
	1. 在GitHub[创建一个新仓库](https://www.aiexplorernote.com/article/how-to-upload-pics-with-github-pages-picgo-obsidian#:~:text=%E9%A6%96%E5%85%88%EF%BC%8C%E6%88%91%E4%BB%AC%E6%96%B0%E5%BB%BA,%E7%84%B6%E5%90%8E%E2%80%9CCreate%20repository%22)，注意，创建时一定要选择私人仓库，否则你的笔记可以被别人在GitHub被别人查看
		   
		![](https://img.aiexplorernote.com/%E4%BD%BF%E7%94%A8Git%E6%8F%92%E4%BB%B6%E8%AE%A9Obsidian%E5%AE%9E%E7%8E%B0%E5%90%8C%E6%AD%A5/create-git-repo-as-private-repo.jpg)
	2. 下面需要将本地仓库与这个新建的远程仓库相关联。我感觉完全使用Git插件替代命令行的操作有点困难，这里就通过尽量通过命令行实现。移动端用户不用担心，只要在桌面端配置好，移动端直接设置个远程仓库就好
		- 在终端导航到Obsidian库文件夹
		- 执行第一个命令添加远程仓库:
		```
		   git remote add origin <你的仓库URL>
		```
		 - 将你的笔记文件添加到 Git 暂存区:
		```
		    git add .
		```
		- 创建一个初始提交：
		```
		   git commit -m "初始化"
		```
		-  为了统一，我们这里把本地分支名称强制命名为main:
		```
		   git branch -M main
		```
		-  将本地提交推送到远程仓库，并让git自动创建指定的远程分支:
		```
		   git push -u origin main
		```
		现在我们已成功使本地分支与远程仓库分支关联起来，Git插件能够正常实现拉取远程更新/推送本地更新到远程
		
		在移动端使用时，可以使用GitSync这个APP（安卓）在移动设备上下载这个仓库，或者直接将整个文件夹从电脑转移到手机，让后在Obsidian的文件浏览器中选择该文件夹作为库文件
## Git插件后台设置详解

![](https://img.aiexplorernote.com/%E4%BD%BF%E7%94%A8Git%E6%8F%92%E4%BB%B6%E8%AE%A9Obsidian%E5%AE%9E%E7%8E%B0%E5%90%8C%E6%AD%A5/screenshot-of-obsidan-git-settings.jpg)

### Split timers for automatic commit and sync

为自动提交和同步分别设置计时器。“提交"是指"git add" + ”git commit"操作，“同步"指”git pull" + "git push"（你可以在后面的设置中选择只进行单一操作或都不执行）。启用后，可以为提交使用一个时间间隔，为同步使用另一个时间间隔。建议不启用，因为启用容易导致冲突，特别是当你为git pull和git push 设置不同时间间隔时

### Auto commit-and-sync interval (minutes)

自动提交并同步的间隔 - 分钟。每多少分钟提交并同步更改。设为0（默认）则禁用。当上面的 "Split timers" 关闭时，这个设置定义了插件自动执行“提交所有更改到本地仓库，并且（如果配置了的话）将这些提交推送到远程仓库”这一系列操作的时间间隔

如果想实现像Notion那样的实时同步，可以将这一项设置为极小的值。但并不建议这样做，因为这样会使得Git 仓库多出极多无意义的提交信息，一方面会导致Git 历史难以管理，另一方面会无意义地加大仓库体积

这是两种方法架构不同导致的根本差异。Notion同步转为实时同步设计，而Git为版本控制而生，只是我们通过自动化提交/拉取实现伪同步，所以想通过Git追求极致同步体验就会影响版本控制以及增大仓库体积

不过如果我们只是个人使用，大部分情况下不用实时同步，所以我将时间间隔设置为20分钟，实际我感觉可以再长一点。实在要确保下次在另一台设备上使用时是最新的，可以直接手动同步一下

### Auto commit-and-sync after stopping file edits

停止文件编辑后自动提交并同步。要求上面“自动提交并同步的间隔”不为0。如果开启，则在停止文件编辑X分钟（你在Auto commit-and-sync interval中设置的值）后执行自动提交并同步。这主要用来防止在编辑文件时进行自动提交并同步

### Auto commit-and-sync after latest commit

在最后一次提交后自动提交并同步。如果开启，当你手动执行了一次提交后，插件会把这次手动提交的时间视为“最后一次同步时间”，然后从这个时间点开始重新计算下一次自动提交的间隔。这样可以避免在你刚刚手动提交完不久，自动提交又紧接着运行一次

### Auto push interval (minutes)

自动推送间隔 - 分钟。这个选项通常在上面的 "Split timers" 开启时才能用。 它定义了自动将本地已提交的更改推送到远程仓库的时间间隔。如果 "Split timers" 关闭，则推送行为包含在 "Auto commit-and-sync interval" 中

### Auto pull interval (minutes)

自动拉取间隔 - 分钟。每X分钟拉取更改。设为0（默认）则禁用。定义了自动从远程仓库拉取最新更改到本地仓库的时间间隔。因为我已经启用了Auto commit and sync，git pull操作包含在其中，所以我将这项设置为0，禁用

### Specify custom commit message on auto commit-and-sync

在自动提交并同步时指定自定义提交信息。















**Obsidian Git 插件的功能：**

"Obsidian Git" 插件将 Git 的这些核心功能直接集成到了 Obsidian 的用户界面中，让你无需离开 Obsidian 或频繁使用命令行就能管理你的笔记库版本。

**主要功能和特点：**

1. **自动备份和版本控制**：
    
    - **定时提交 (Automatic Commit)**：插件可以设置一个时间间隔（例如每10分钟），自动将笔记库中所有已更改的文件执行 `git add .` 和 `git commit` 操作。这意味着你的笔记修改历史会被定期保存下来。
    - **自动推送 (Automatic Push)**：在自动提交后，还可以选择自动将这些提交推送到你设置的远程 Git 仓库（如 GitHub 上的私有仓库）。
    - **自动拉取 (Automatic Pull)**：可以在 Obsidian 启动时自动从远程仓库拉取最新的更改，确保你的本地库与远程保持同步，这对于多设备使用非常重要。
2. **手动 Git 操作**：
    
    - **提交 (Commit)**：可以手动提交所有更改，并自定义提交信息 (commit message)。
    - **推送 (Push)**：手动将本地的提交推送到远程仓库。
    - **拉取 (Pull)**：手动从远程仓库拉取最新的更改到本地。
    - **暂存 (Stage)**：提供类似 `git add <file>` 的功能，可以选择性地将某些更改的文件加入到下一次提交中。
    - **撤销更改 (Discard Changes)**：可以丢弃某个文件自上次提交以来的所有未保存的修改。
3. **可视化界面**：
    
    - **源码控制视图 (Source Control View)**：插件通常会提供一个专门的侧边栏面板，显示当前已更改、已暂存、未追踪的文件列表，类似于 VS Code 等代码编辑器中的 Git 面板。你可以在这个视图中方便地进行暂存、提交、查看差异等操作。
    - **历史视图 (History View)**：可以查看整个库或单个文件的提交历史记录，点击某个提交可以看到该次提交具体修改了哪些文件以及文件的差异。
    - **差异视图 (Diff View)**：可以清晰地看到文件在不同版本之间的具体内容差异（增加了哪些行，删除了哪些行，修改了哪些行）。
    - **行作者信息 (Line Authoring / Git Blame)**：可以查看文件中每一行最后是由哪个提交修改的，以及修改者和时间等信息。
4. **冲突处理 (Conflict Resolution)**：
    
    - 当从远程拉取更改，并且本地也有未同步的修改时，如果两者修改了同一文件的同一部分，就可能产生合并冲突。插件通常会标记出这些冲突文件，并可能提供一些基础的界面辅助你解决这些冲突（尽管有时复杂的冲突可能仍需要借助外部 Git 工具）。
5. **支持 Git 子模块 (Git Submodules)**：
    
    - 如果你在你的笔记库中使用了 Git 子模块来管理某些部分的独立版本，插件通常也支持对子模块进行提交和同步。
6. **与 Obsidian 命令面板和快捷键集成**：
    
    - 插件提供的所有主要 Git 操作（如提交、推送、拉取等）都可以通过 Obsidian 的命令面板调用，并且你可以为它们设置自定义的快捷键。
7. **`.gitignore` 文件编辑**：
    
    - 允许你直接在 Obsidian 内部编辑 `.gitignore` 文件，用来指定哪些文件或文件夹不应被 Git追踪和提交（例如，Obsidian 的缓存文件、一些临时文件等）。

**如何使用 Obsidian Git 插件（通用步骤）：**

1. **安装 Git**：首先，你需要在你的电脑上安装 Git 版本控制系统本身。Obsidian Git 插件只是一个 Git 的图形化前端，它需要依赖系统已安装的 Git 环境。
2. **初始化 Git 仓库**：
    - 如果你的 Obsidian 笔记库（Vault 文件夹）还不是一个 Git 仓库，你需要先将其初始化。可以在命令行中进入到你的 Vault 文件夹路径，然后运行 `git init`。
    - 有些版本的插件可能也提供了在 Obsidian 内部初始化新 Git 仓库的功能。
3. **设置远程仓库 (可选但推荐)**：
    - 为了备份和多设备同步，你通常会在一个 Git托管平台（如 GitHub, GitLab）上创建一个（私有）仓库。
    - 然后将这个远程仓库添加为你本地 Vault Git 仓库的 `origin` (或其他名称) 远程地址 (`git remote add origin <你的仓库URL>`)。
    - 进行首次推送 (`git push -u origin main` 或 `git push -u origin master`)。
4. **安装并启用插件**：从 Obsidian 社区插件市场安装 "Obsidian Git" (通常是 Vinzent03 开发的那个) 并启用它。
5. **配置插件设置**：
    - 进入插件设置，配置自动提交和推送的间隔、提交信息模板、是否在启动时自动拉取等。
    - 配置你的 Git 用户名和邮箱（用于提交记录）。
    - 如果使用 HTTPS 连接远程仓库，可能需要配置凭据；如果使用 SSH，需要确保 SSH 密钥已正确设置。
6. **开始使用**：
    - 插件会在后台按你的设置自动进行提交和同步。
    - 你也可以通过命令面板、状态栏图标（如果启用）或源码控制视图来手动执行 Git 操作。

**使用 Obsidian Git 插件的好处：**

- **强大的版本历史**：可以追踪每一个文件的每一次重要修改，随时可以回溯和比较。
- **可靠的备份**：通过推送到远程仓库（如 GitHub 私有库），你的笔记数据就有了一个安全的异地备份。
- **免费的多设备同步**：虽然 Git 本身不是为实时同步设计的（更侧重异步协作和版本控制），但通过频繁的提交和推送/拉取，可以有效地在多台电脑设备间同步你的笔记库。
- **细粒度控制**：你可以精确控制哪些文件被追踪，何时提交，提交信息是什么。
- **与其他 Git 工具协同**：由于使用的是标准的 Git，你也可以随时使用其他 Git 图形化工具或命令行工具来管理你的笔记库。

**注意事项：**

- **学习曲线**：如果你完全不了解 Git，可能需要一些时间来学习 Git 的基本概念（如 commit, push, pull, branch, merge, conflict）。
- **冲突处理**：在多设备编辑时，如果同步不及时，可能会遇到合并冲突，需要手动解决。
- **大型二进制文件**：Git 对于大型二进制文件（如视频、大量高分辨率图片）的版本控制效率不高，仓库可能会变得臃肿。建议主要用它来管理 Markdown 文本文件和少量必要的附件。
- **移动端**：在移动设备上直接使用完整的 Git 功能通常比较复杂或受限。虽然有些应用（如 Working Copy for iOS）可以让你在移动端操作 Git 仓库，但 Obsidian Git 插件主要还是为桌面端设计的。对于移动端同步，用户可能还是会结合其他同步方案。

总而言之，"Obsidian Git" 插件对于那些熟悉 Git 或者愿意学习 Git 的用户来说，是一个非常强大和灵活的笔记备份、同步及版本管理解决方案。它为你提供了对笔记数据历史的完全控制。

