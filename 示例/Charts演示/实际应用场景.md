# 实际应用场景

本文档展示了 Obsidian Charts 插件在实际场景中的应用，包括习惯追踪、项目管理、学习进度和个人分析等。

## 重要说明

根据 [官方文档](https://charts.phib.ro/Meta/Charts/Dataview+Integration)，Charts 插件支持两种使用方式：

1. **静态图表**：使用 `chart` 代码块，适用于固定数据
2. **动态图表**：使用 `dataviewjs` 代码块 + `window.renderChart(chartData, this.container)` API，适用于从 Dataview 查询获取的动态数据

**注意：使用 dataviewjs 需要在 Dataview 插件设置中启用 "Enable JavaScript Queries"。**

## 习惯追踪

### 每日习惯完成情况（静态图表）

```chart
type: bar
labels: [周一, 周二, 周三, 周四, 周五, 周六, 周日]
series:
  - title: 早起
    data: [1, 1, 0, 1, 1, 0, 0]
    backgroundColor: rgba(255, 99, 132, 0.8)
  - title: 冥想
    data: [1, 1, 1, 0, 1, 1, 1]
    backgroundColor: rgba(54, 162, 235, 0.8)
  - title: 阅读
    data: [0, 1, 1, 1, 0, 1, 1]
    backgroundColor: rgba(75, 192, 192, 0.8)
  - title: 运动
    data: [1, 0, 1, 1, 1, 0, 0]
    backgroundColor: rgba(153, 102, 255, 0.8)
```

### 每日习惯完成情况（动态图表）

```dataviewjs
// 从每日笔记中读取习惯数据
const habitData = {
    '周一': { 早起: 1, 冥想: 1, 阅读: 0, 运动: 1 },
    '周二': { 早起: 1, 冥想: 1, 阅读: 1, 运动: 0 },
    '周三': { 早起: 0, 冥想: 1, 阅读: 1, 运动: 1 },
    '周四': { 早起: 1, 冥想: 0, 阅读: 1, 运动: 1 },
    '周五': { 早起: 1, 冥想: 1, 阅读: 0, 运动: 1 },
    '周六': { 早起: 0, 冥想: 1, 阅读: 1, 运动: 0 },
    '周日': { 早起: 0, 冥想: 1, 阅读: 1, 运动: 0 }
};

const labels = Object.keys(habitData);
const habits = ['早起', '冥想', '阅读', '运动'];
const colors = [
    'rgba(255, 99, 132, 0.8)',
    'rgba(54, 162, 235, 0.8)', 
    'rgba(75, 192, 192, 0.8)',
    'rgba(153, 102, 255, 0.8)'
];

const datasets = habits.map((habit, index) => ({
    label: habit,
    data: labels.map(day => habitData[day][habit]),
    backgroundColor: colors[index]
}));

const chartData = {
    type: 'bar',
    data: {
        labels: labels,
        datasets: datasets
    },
    options: {
        responsive: true,
        plugins: {
            title: {
                display: true,
                text: '本周习惯完成情况（动态）'
            }
        },
        scales: {
            y: {
                min: 0,
                max: 1,
                ticks: {
                    stepSize: 1,
                    callback: function(value) {
                        return value === 0 ? '未完成' : '完成';
                    }
                }
            }
        }
    }
};

window.renderChart(chartData, this.container);
```

### 从实际页面读取习惯数据

```dataviewjs
// 从实际的每日笔记中读取习惯数据
const dailyPages = dv.pages('"日记"')
    .where(p => p["运动"] !== undefined || p["阅读"] !== undefined || p["冥想"] !== undefined)
    .sort(p => p.file.name, 'desc')
    .limit(7);

if (dailyPages.length > 0) {
    const labels = dailyPages.map(p => {
        // 从文件名提取日期，假设格式为 "2025-06-01"
        const match = p.file.name.match(/(\d{4}-\d{2}-\d{2})/);
        return match ? match[1].substring(5) : p.file.name; // 只显示月-日
    }).reverse(); // 反转以显示时间顺序

    const habits = ['运动', '阅读', '冥想'];
    const colors = [
        'rgba(255, 99, 132, 0.8)',
        'rgba(54, 162, 235, 0.8)', 
        'rgba(75, 192, 192, 0.8)'
    ];

    const datasets = habits.map((habit, index) => ({
        label: habit,
        data: dailyPages.map(p => p[habit] ? 1 : 0).reverse(),
        backgroundColor: colors[index]
    }));

    const chartData = {
        type: 'bar',
        data: {
            labels: labels,
            datasets: datasets
        },
        options: {
            responsive: true,
            plugins: {
                title: {
                    display: true,
                    text: '最近7天习惯完成情况'
                }
            },
            scales: {
                y: {
                    min: 0,
                    max: 1,
                    ticks: {
                        stepSize: 1,
                        callback: function(value) {
                            return value === 0 ? '未完成' : '完成';
                        }
                    }
                }
            }
        }
    };

    window.renderChart(chartData, this.container);
} else {
    dv.paragraph("❌ 没有找到包含习惯数据的每日笔记");
}
```

### 习惯连续天数追踪

```chart
type: line
labels: [1月, 2月, 3月, 4月, 5月, 6月]
series:
  - title: 早起连续天数
    data: [5, 12, 8, 15, 21, 18]
    borderColor: rgb(255, 99, 132)
    backgroundColor: rgba(255, 99, 132, 0.2)
  - title: 冥想连续天数
    data: [3, 7, 14, 20, 25, 30]
    borderColor: rgb(54, 162, 235)
    backgroundColor: rgba(54, 162, 235, 0.2)
  - title: 阅读连续天数
    data: [10, 5, 8, 12, 15, 20]
    borderColor: rgb(75, 192, 192)
    backgroundColor: rgba(75, 192, 192, 0.2)
options:
  title:
    display: true
    text: 习惯连续天数变化
  elements:
    line:
      tension: 0.4
  scales:
    y:
      beginAtZero: true
      title:
        display: true
        text: 连续天数
```

### 月度习惯完成率

```chart
type: doughnut
labels: [已完成, 部分完成, 未完成]
series:
  - data: [15, 8, 2]
    backgroundColor:
      - rgb(75, 192, 192)
      - rgb(255, 205, 86)
      - rgb(255, 99, 132)
options:
  title:
    display: true
    text: 本月习惯完成统计
  plugins:
    legend:
      position: bottom
    tooltip:
      callbacks:
        label: "function(context) { return context.label + ': ' + context.raw + ' 天'; }"
```

## 项目管理

### 项目进度跟踪

```chart
type: bar
labels: [需求分析, 设计, 开发, 测试, 部署]
series:
  - title: 计划工时
    data: [40, 80, 160, 60, 20]
    backgroundColor: rgba(54, 162, 235, 0.8)
  - title: 实际工时
    data: [35, 95, 140, 80, 15]
    backgroundColor: rgba(255, 99, 132, 0.8)
  - title: 完成百分比
    type: line
    data: [100, 100, 75, 50, 0]
    borderColor: rgb(75, 192, 192)
    backgroundColor: rgba(75, 192, 192, 0.2)
    yAxisID: percentage
options:
  title:
    display: true
    text: 项目进度跟踪
  scales:
    y:
      beginAtZero: true
      title:
        display: true
        text: 工时
    percentage:
      type: linear
      position: right
      min: 0
      max: 100
      title:
        display: true
        text: 完成百分比
      grid:
        drawOnChartArea: false
```

### 团队任务分配

```chart
type: pie
labels: [张三, 李四, 王五, 赵六, 钱七]
series:
  - data: [12, 8, 15, 10, 5]
    backgroundColor:
      - '#FF6384'
      - '#36A2EB'
      - '#FFCE56'
      - '#4BC0C0'
      - '#9966FF'
options:
  title:
    display: true
    text: 团队任务分配
  plugins:
    tooltip:
      callbacks:
        label: "function(context) { return context.label + ': ' + context.raw + ' 个任务'; }"
```

### 项目风险评估

```chart
type: radar
labels: [技术风险, 进度风险, 资源风险, 质量风险, 成本风险, 市场风险]
series:
  - title: 当前项目
    data: [7, 5, 3, 4, 6, 8]
    backgroundColor: rgba(255, 99, 132, 0.2)
    borderColor: rgb(255, 99, 132)
  - title: 上个项目
    data: [5, 7, 6, 3, 5, 9]
    backgroundColor: rgba(54, 162, 235, 0.2)
    borderColor: rgb(54, 162, 235)
options:
  title:
    display: true
    text: 项目风险评估对比
  scales:
    r:
      beginAtZero: true
      max: 10
      title:
        display: true
        text: 风险等级 (1-10)
```

## 学习进度管理

### 学习时间分配

```chart
type: doughnut
labels: [编程, 语言, 数学, 物理, 历史, 其他]
series:
  - data: [30, 20, 15, 10, 15, 10]
    backgroundColor:
      - '#FF6384'
      - '#36A2EB'
      - '#FFCE56'
      - '#4BC0C0'
      - '#9966FF'
      - '#FF9F40'
options:
  title:
    display: true
    text: 学习时间分配 (%)
  cutout: 50%
  plugins:
    legend:
      position: right
```

### 考试成绩趋势

```chart
type: line
labels: [一月, 二月, 三月, 四月, 五月, 六月]
series:
  - title: 数学
    data: [75, 80, 85, 82, 88, 92]
    borderColor: rgb(255, 99, 132)
    backgroundColor: rgba(255, 99, 132, 0.1)
  - title: 物理
    data: [70, 72, 78, 80, 85, 88]
    borderColor: rgb(54, 162, 235)
    backgroundColor: rgba(54, 162, 235, 0.1)
  - title: 编程
    data: [85, 88, 90, 92, 95, 98]
    borderColor: rgb(75, 192, 192)
    backgroundColor: rgba(75, 192, 192, 0.1)
options:
  title:
    display: true
    text: 考试成绩趋势
  scales:
    y:
      min: 60
      max: 100
      title:
        display: true
        text: 分数
  elements:
    line:
      tension: 0.3
```

### 学习目标达成情况

```chart
type: bar
labels: [编程技能, 英语水平, 数学基础, 项目经验, 理论知识]
series:
  - title: 目标值
    data: [90, 85, 80, 75, 88]
    backgroundColor: rgba(200, 200, 200, 0.6)
  - title: 当前值
    data: [85, 78, 82, 70, 85]
    backgroundColor: rgba(54, 162, 235, 0.8)
options:
  title:
    display: true
    text: 学习目标达成情况
  scales:
    y:
      beginAtZero: true
      max: 100
      title:
        display: true
        text: 完成度 (%)
```

## 个人财务管理

### 月度收支情况

```chart
type: bar
labels: [一月, 二月, 三月, 四月, 五月, 六月]
series:
  - title: 收入
    data: [12000, 12000, 13500, 13500, 13500, 15000]
    backgroundColor: rgba(75, 192, 192, 0.8)
  - title: 支出
    data: [8000, 9500, 8500, 10000, 9000, 11000]
    backgroundColor: rgba(255, 99, 132, 0.8)
  - title: 结余
    type: line
    data: [4000, 2500, 5000, 3500, 4500, 4000]
    borderColor: rgb(54, 162, 235)
    backgroundColor: rgba(54, 162, 235, 0.2)
    yAxisID: savings
options:
  title:
    display: true
    text: 月度收支情况
  scales:
    y:
      beginAtZero: true
      title:
        display: true
        text: 金额 (元)
    savings:
      type: linear
      position: right
      beginAtZero: true
      title:
        display: true
        text: 结余 (元)
      grid:
        drawOnChartArea: false
```

### 支出分类统计

```chart
type: pie
labels: [住房, 饮食, 交通, 娱乐, 教育, 医疗, 其他]
series:
  - data: [35, 25, 10, 10, 8, 7, 5]
    backgroundColor:
      - '#FF6384'
      - '#36A2EB'
      - '#FFCE56'
      - '#4BC0C0'
      - '#9966FF'
      - '#FF9F40'
      - '#C9CBCF'
options:
  title:
    display: true
    text: 月度支出分类 (%)
  plugins:
    tooltip:
      callbacks:
        label: "function(context) { return context.label + ': ' + context.raw + '%'; }"
```

### 投资组合表现

```chart
type: line
labels: [1月, 2月, 3月, 4月, 5月, 6月]
series:
  - title: 股票
    data: [10000, 10500, 9800, 11200, 10800, 12000]
    borderColor: rgb(255, 99, 132)
  - title: 基金
    data: [5000, 5200, 5100, 5400, 5600, 5800]
    borderColor: rgb(54, 162, 235)
  - title: 债券
    data: [3000, 3030, 3060, 3090, 3120, 3150]
    borderColor: rgb(75, 192, 192)
options:
  title:
    display: true
    text: 投资组合价值变化
  scales:
    y:
      beginAtZero: false
      title:
        display: true
        text: 价值 (元)
  elements:
    line:
      tension: 0.2
```

## 健康管理

### 体重变化追踪

```chart
type: line
labels: [一月, 二月, 三月, 四月, 五月, 六月]
series:
  - title: 体重 (kg)
    data: [75, 74, 72.5, 71, 70, 69.5]
    borderColor: rgb(54, 162, 235)
    backgroundColor: rgba(54, 162, 235, 0.1)
    fill: true
options:
  title:
    display: true
    text: 体重变化趋势
  scales:
    y:
      min: 65
      max: 80
      title:
        display: true
        text: 体重 (kg)
  elements:
    line:
      tension: 0.3
```

### 每日运动记录

```chart
type: bar
labels: [周一, 周二, 周三, 周四, 周五, 周六, 周日]
series:
  - title: 步数
    data: [5000, 7500, 10000, 6000, 8000, 12000, 3000]
    backgroundColor: rgba(54, 162, 235, 0.8)
  - title: 卡路里消耗
    type: line
    data: [200, 300, 400, 250, 320, 480, 150]
    borderColor: rgb(255, 99, 132)
    backgroundColor: rgba(255, 99, 132, 0.2)
    yAxisID: calories
options:
  title:
    display: true
    text: 每日运动记录
  scales:
    y:
      beginAtZero: true
      title:
        display: true
        text: 步数
    calories:
      type: linear
      position: right
      beginAtZero: true
      title:
        display: true
        text: 卡路里
      grid:
        drawOnChartArea: false
```

### 睡眠质量分析

```chart
type: radar
labels: [入睡时间, 深度睡眠, 浅度睡眠, 清醒次数, 睡眠时长, 起床状态]
series:
  - title: 本周平均
    data: [8, 7, 6, 3, 8, 7]
    backgroundColor: rgba(54, 162, 235, 0.2)
    borderColor: rgb(54, 162, 235)
  - title: 理想状态
    data: [9, 9, 8, 1, 9, 9]
    backgroundColor: rgba(75, 192, 192, 0.2)
    borderColor: rgb(75, 192, 192)
options:
  title:
    display: true
    text: 睡眠质量评估
  scales:
    r:
      beginAtZero: true
      max: 10
```

## 工作效率分析

### 每日专注时间

```chart
type: bar
labels: [周一, 周二, 周三, 周四, 周五, 周六, 周日]
series:
  - title: 深度工作
    data: [4, 5, 3, 6, 4, 2, 1]
    backgroundColor: rgba(255, 99, 132, 0.8)
  - title: 浅度工作
    data: [2, 3, 4, 2, 3, 1, 0]
    backgroundColor: rgba(54, 162, 235, 0.8)
```

### 任务完成效率

```chart
type: scatter
series:
  - title: 任务数据
    data:
      - {x: 1, y: 8}
      - {x: 2, y: 12}
      - {x: 3, y: 15}
      - {x: 4, y: 18}
      - {x: 5, y: 20}
      - {x: 6, y: 16}
      - {x: 7, y: 14}
    backgroundColor: rgba(255, 99, 132, 0.6)
    borderColor: rgb(255, 99, 132)
options:
  title:
    display: true
    text: 任务复杂度 vs 完成时间
  scales:
    x:
      title:
        display: true
        text: 任务复杂度 (1-10)
    y:
      title:
        display: true
        text: 完成时间 (小时)
```

## 阅读统计

### 月度阅读进度

```chart
type: bar
labels: [一月, 二月, 三月, 四月, 五月, 六月]
series:
  - title: 计划阅读
    data: [3, 3, 4, 3, 4, 4]
    backgroundColor: rgba(200, 200, 200, 0.6)
  - title: 实际完成
    data: [2, 4, 3, 4, 3, 5]
    backgroundColor: rgba(54, 162, 235, 0.8)
options:
  title:
    display: true
    text: 月度阅读书籍数量
  scales:
    y:
      beginAtZero: true
      title:
        display: true
        text: 书籍数量
```

### 阅读类型分布

```chart
type: polarArea
labels: [技术书籍, 小说, 传记, 历史, 科普, 其他]
series:
  - data: [8, 12, 5, 7, 6, 4]
    backgroundColor:
      - '#FF6384'
      - '#36A2EB'
      - '#FFCE56'
      - '#4BC0C0'
      - '#9966FF'
      - '#FF9F40'
options:
  title:
    display: true
    text: 年度阅读类型分布
```

## 技能发展追踪

### 编程技能雷达图

```chart
type: radar
labels: [前端开发, 后端开发, 数据库, 算法, 系统设计, 项目管理]
series:
  - title: 当前水平
    data: [8, 6, 7, 5, 4, 6]
    backgroundColor: rgba(54, 162, 235, 0.2)
    borderColor: rgb(54, 162, 235)
  - title: 目标水平
    data: [9, 8, 8, 7, 7, 8]
    backgroundColor: rgba(255, 99, 132, 0.2)
    borderColor: rgb(255, 99, 132)
options:
  title:
    display: true
    text: 编程技能发展规划
  scales:
    r:
      beginAtZero: true
      max: 10
```

### 学习时间投入

```chart
type: line
labels: [1月, 2月, 3月, 4月, 5月, 6月]
series:
  - title: 编程学习
    data: [20, 25, 30, 28, 35, 40]
    borderColor: rgb(255, 99, 132)
  - title: 语言学习
    data: [15, 18, 20, 22, 20, 25]
    borderColor: rgb(54, 162, 235)
  - title: 其他技能
    data: [10, 12, 8, 15, 18, 20]
    borderColor: rgb(75, 192, 192)
options:
  title:
    display: true
    text: 月度学习时间分配
  scales:
    y:
      beginAtZero: true
      title:
        display: true
        text: 小时
  elements:
    line:
      tension: 0.2
```

## 社交媒体分析

### 内容发布统计

```chart
type: bar
labels: [微博, 知乎, 博客, YouTube, GitHub, 其他]
series:
  - title: 本月发布
    data: [15, 8, 3, 2, 12, 5]
    backgroundColor: rgba(54, 162, 235, 0.8)
  - title: 上月发布
    data: [12, 6, 4, 1, 10, 3]
    backgroundColor: rgba(200, 200, 200, 0.6)
options:
  title:
    display: true
    text: 内容发布平台统计
  scales:
    y:
      beginAtZero: true
      title:
        display: true
        text: 发布数量
```

### 互动数据趋势

```chart
type: line
labels: [第1周, 第2周, 第3周, 第4周]
series:
  - title: 点赞数
    data: [120, 150, 180, 200]
    borderColor: rgb(255, 99, 132)
  - title: 评论数
    data: [25, 30, 35, 42]
    borderColor: rgb(54, 162, 235)
  - title: 分享数
    data: [8, 12, 15, 18]
    borderColor: rgb(75, 192, 192)
options:
  title:
    display: true
    text: 社交媒体互动趋势
  scales:
    y:
      beginAtZero: true
      title:
        display: true
        text: 互动数量
```

## 使用技巧与建议

### 数据收集建议

1. **统一格式**: 在笔记的YAML前置元数据中使用统一的字段名
2. **数据类型**: 确保数值型数据使用数字而非文本格式
3. **日期格式**: 使用标准的日期格式，如 `2025-06-01`
4. **定期更新**: 建立定期更新数据的习惯

### 图表选择指南

- **趋势分析**: 使用线图 (line)
- **数量比较**: 使用柱状图 (bar)
- **占比分析**: 使用饼图 (pie) 或环形图 (doughnut)
- **多维度评估**: 使用雷达图 (radar)
- **相关性分析**: 使用散点图 (scatter)

### 颜色搭配建议

```chart
type: bar
labels: [示例数据]
series:
  - data: [100]
    backgroundColor: '#FF6384'  # 红色 - 警告/重要
  - data: [80]
    backgroundColor: '#36A2EB'  # 蓝色 - 信息/常规
  - data: [90]
    backgroundColor: '#4BC0C0'  # 青色 - 成功/完成
  - data: [70]
    backgroundColor: '#FFCE56'  # 黄色 - 注意/进行中
options:
  title:
    display: true
    text: 推荐颜色方案
```

通过这些实际应用场景，你可以更好地利用 Obsidian Charts 插件来可视化和分析你的个人数据，从而获得有价值的洞察！
